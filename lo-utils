#!/bin/bash

#[ -n "$LO_UTILS" ] && return || readonly LO_UTILS=1


############################################################
#
# Get index of the current pane
#
# getCurrentPaneIndex
#
function getCurrentPaneID
{
    tmux display-message -p "#{pane_id}"
}


############################################################
#
# Get index of other pane than current one
#
# getOtherPaneID
#
function getOtherPaneID
{
    tmux list-panes -F "#{pane_id}" | grep -v $(getCurrentPaneID)
}


############################################################
#
# gotoPalico PATH [LINE [COLUMN]]
#
function gotoPalico
{
    local path="$1"
    local line="${2:-0}"
    local column="${3:-0}"

    if [ -n "$path" ]; then
        tmux send-keys -t $(getOtherPaneID) ":e $path|call cursor($line,$column)|norm zz" Enter
    fi
}

export -f getCurrentPaneID
export -f getOtherPaneID
export -f gotoPalico


